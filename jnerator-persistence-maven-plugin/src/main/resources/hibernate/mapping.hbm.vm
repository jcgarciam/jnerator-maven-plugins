<!DOCTYPE hibernate-mapping PUBLIC
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"> 

<!-- This file has been generated by ${generatorVersion} at $date -->
<hibernate-mapping>
	<class name="${jdoInfo.javaPckName}.${jdoInfo.javaClassName}" table="${jdoInfo.tableName}">

#set( $sprimarykeydone = "false" )
#foreach($col in ${jdoInfo.jdoColInfos})
#set( $done = "false" )
#if ($util.getLength(${jdoInfo.getImportedFk()}) > 0)
#foreach($colfk in ${jdoInfo.getImportedFk()})
#foreach($colfk2 in $colfk)
#if($colfk2.getFkColumnName().equals($col.colName))
#set ($done= "$fks.add($colfk2.fkName)" )
#if ($done == "true")
#if ($util.getLength($colfk) > 1)
		<many-to-one name="${util.DoNameCreator.class2attribute($util.DoNameCreator.createDoName($colfk2.getPkTableName()))}">
#foreach($colfk3 in $colfk)
			<column name="$colfk3.getFkColumnName()"/>
#end
		</many-to-one>
		
#else
		<many-to-one name="${util.DoNameCreator.class2attribute($util.DoNameCreator.createDoName($colfk2.getPkTableName()))}" column="$col.colName"/>
		
#end
#end
#set( $done = "true" )
#end
#end
#end
#end
#if ($done=="false")
#if ($util.getLength($jdoInfo.getPk()) > 1)
#foreach($colpk in ${jdoInfo.getPk()})
#if ($colpk.col.equals($col.colName))
#if ($sprimarykeydone=="false")
		<composite-id name="${util.DoNameCreator.class2attribute($jdoInfo.javaClassName)}PK" class="${jdoInfo.javaPckName}.${jdoInfo.javaClassName}\$${jdoInfo.javaClassName}PK">
#foreach($col in ${jdoInfo.jdoColInfos})
#foreach($colpk in ${jdoInfo.getPk()})
#if ($colpk.col.equals($col.colName))
			<key-property name="$col.javaAttName"/>
#end
#end
#end
		</composite-id>

#set( $sprimarykeydone = "true" )
#end	
#set( $done = "true" )	
#end
#end
#end
#end
#if ($done=="false")
#foreach($colpk in ${jdoInfo.getPk()})
#if ($colpk.col.equals($col.colName))
		<id name="${col.javaAttName}">
#if (${col.isAutoIncrement()})
			<generator class="native"/>
#end
		</id>

#set( $done = "true" )	
#end
#end
#end
#if ($done=="false")
		<property name="${col.javaAttName}" column="$col.colName"/>
	
#end
#end
#foreach($colfk in ${jdoInfo.getExportedFk()})
#set ($fkdone="false")
#if ($util.getLength($colfk) > 1)
#foreach($colfk2 in $colfk)
#if ($fkdone=="false")
	 	<bag name="${util.DoNameCreator.class2attribute($util.DoNameCreator.createDoName($colfk2.getFkTableName()))}s" inverse="true">
			<key>
#foreach($colfk3 in $colfk)
	 			<column name="$colfk3.getFkColumnName()"/>
#end
			</key>
			<one-to-many class="${jdoInfo.javaPckName}.$util.DoNameCreator.createDoName($colfk2.getFkTableName())"/>
		</bag>
		
#set ($fkdone="true")
#end
#end
#else
#foreach($colfk2 in $colfk)
		<bag name="${util.DoNameCreator.class2attribute($util.DoNameCreator.createDoName($colfk2.getFkTableName()))}s" inverse="true">
			<key column="$colfk2.getFkColumnName()"/>
			<one-to-many class="${jdoInfo.javaPckName}.$util.DoNameCreator.createDoName($colfk2.getFkTableName())"/>
		</bag>

#end
#end
#end
	</class>
</hibernate-mapping>